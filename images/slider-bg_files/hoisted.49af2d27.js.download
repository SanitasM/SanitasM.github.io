import{d as r,a as m,l as P}from"./index.44e508e1.js";import{a as W,b as R}from"./index.119f9a73.js";import{h}from"./index.c4f80e29.js";import{e as d}from"./index.b83f9b73.js";import{d as H,o as B,a as j,b as U}from"./store.9d968a34.js";import"./hoisted.98943c8f.js";import"./hoisted.74a32039.js";import"./lazy.ac812cf9.js";import"./signals.module.b63af230.js";import"./preact.module.f85bee2d.js";import"./hooks.module.6c5b4c2f.js";import"./preload-helper.87151e19.js";function F(){import.meta.url,import("data:text/javascript,").catch(()=>1);async function*t(){}F.g=t}const g=(t,e)=>{if(+__PN_DATA__.uid<=0)return e&&e();t()};let f=null;const S=()=>{if(f)return f;const t=document.querySelector("[data-closest]");return f=Object.assign({},t==null?void 0:t.dataset),f};r("click","[data-downld-name]",function(){const t=this.dataset.downldName,e=this.dataset.downldUrl,n=this.dataset.downldSuffix,o=this.dataset.hueid,s=S();if(!t)return;const i=document.getElementById("GoPremiumBtn");g(()=>{switch(o&&d(o),t){case"png":case"rar":case"ppt":case"twibbon":const a=s.fee=="1"&&t==="png";H({type:s.type||"1",btnType:t,rarName:n||"PSD",goPremiumTxt:(i==null?void 0:i.textContent)||"Go Premium",href:e,downUrl:e,fee:a,licenseType:s.licenseType||0},!1);break;case"edit":e&&window.open(e,"_blank");break;case"mobile":const l=document.querySelector("._FC");l&&(l.__top__=l.__top__||l.getBoundingClientRect().top-40+W(),R(l.__top__));break;default:e&&setTimeout(()=>{window.open(e,"_blank")},100);break}},()=>{d("down-btnnologin")})});r("click","[data-share-btn]",function(){const t=this.dataset.shareBtn,e=location.origin+location.pathname,n=G();switch(t){case"pinterest":U(e+"?share=3",n.media,n.word);break;case"facebook":j(e+"?share=2");break;case"twitter":B(e+"?share=1",n.title);break}});function G(){const t={title:"",media:"",word:""},e=document.querySelector("[data-share-media]");if(e){const{shareTitle:n,shareMedia:o,shareWord:s}=e.dataset;t.title=n||"",t.media=o||"",t.word=s||""}return t}const M="._kH";r("click",M,function(){setTimeout(()=>{d("der-followmain")}),g(()=>{const t=this.dataset.follow,e=this.textContent,n=this.dataset.txt;this.disabled=!0,h.post("/api/async/designer-follow",{id:t}).then(o=>{o.status===200&&(this.textContent=n,this.dataset.txt=e)}).finally(()=>{this.disabled=!1})})});const O="._KC a";r("click","[data-prf-type]",function(){g(()=>{const e=this.dataset.prfType==="enterprise",n=e?"team":"",o=S(),{vip_type:s,enterprise_status:i}=window.__PN_DATA__;o.licenseType==2&&i=="0"?window.open("/team-pay/card?type=2&b=121","_blank"):+s<=0?(m(document,"dialog:toggle",{name:"prf-license",show:!0}),d("prfview-btn"+n)):(this.disabled=!0,m(document,"down:prf",{data:o,isTeam:e,resolve:()=>{this.disabled=!1},reject:()=>{this.disabled=!1}}),d("prfdown-btn"+n))})});r("click",O,function(t){t.preventDefault(),d("relatekeyword-report"),this.href&&setTimeout(()=>{window.open(this.href,"_blank")},100)});const $="._WD ._RG";r("click",$,function(){const t=this.dataset.id;t&&d(`url-similartype-${t}`)});r("click","._SC>span",function(){m(this.parentElement.querySelector('[data-huejs="der-linkmain"]'),"click")});const C="._gH",z="._LI",b=()=>{m(document,"dialog:toggle",{name:"PreviewImage",show:!0})},x=t=>{var e;(e=document.querySelector(z))==null||e.classList[t?"add":"remove"]("_ne")},w=t=>{t.preventDefault()};r("click",C,function(t){w(t),setTimeout(()=>{d("detail-preview-image")},100);const e=document.getElementById("PreviewImage");if(e){if(e.querySelector("img"))return b()}else return;const n=this.querySelector("a"),o=this.querySelector("img");if(!n||!o)return;const s=n.href||o.currentSrc||o.src;if(!s)return;b();const i=n.offsetHeight>n.parentElement.offsetHeight,a=document.createElement("img"),l=i?e:a;l.style.maxWidth=window.innerWidth-40+"px",l.style.maxHeight=window.innerHeight-120+"px",a.className=e.dataset.imgClass||"",a.style.minWidth=i?"640px":"auto",a.alt="",a.oncontextmenu=w,a.onload=a.onabort=a.onerror=()=>{requestAnimationFrame(()=>{x(!0)})},a.src=s,requestAnimationFrame(()=>{x(),e.appendChild(a)})});r("contextmenu",C,w);const J="._HI",K="._II",V="._JI",Q=["_g","_yo"];X();function X(){if(window.innerWidth<1024)return;const t=document.querySelectorAll(J);for(const e of t){const n=e.querySelector(K),o=e.querySelector(V);if(!n||!o)continue;const s=Array.from(n.children).filter(D=>D!==o),i=s.length;if(i<=1)continue;const a=Y(s,i);if(a.length<=1)continue;const l=getComputedStyle(o,null),{i:E,data:u}=Z(a[1],{box_w:n.offsetWidth,btn_w:o.offsetWidth,btns:s,mx:(parseFloat(l.marginLeft)||0)+parseFloat(l.marginRight)||0,next:null,show:!1}),_=i-E,I="+"+_,L=o.dataset.less,N=e.offsetHeight,A=n.offsetHeight,y=()=>{u.show=!1,o.textContent=I,o.style.removeProperty("width"),n.insertBefore(o,u.next),e.style.cssText+=`height:${N}px;`};P(o,"click",()=>{if(u.show)return y();u.show=!0,n.appendChild(o),o.textContent=L,o.style.width="auto",e.style.cssText+=`height:${A}px;`}),y(),_>0&&requestAnimationFrame(()=>{o.classList.remove(...Q)})}}function Y(t,e){const n=t[0].offsetLeft,o=[];let s=0;for(let i=0;i<e;i++){const a=t[i];a.offsetLeft===n&&o.push({el:a,i,w:s});const l=getComputedStyle(a,null);s+=a.offsetWidth+(parseFloat(l.marginLeft)||0)+(parseFloat(l.marginRight)||0)}return o}function Z(t,e){const{box_w:n,btn_w:o,mx:s,btns:i}=e,a=o+s;if(e.next=t.el,t.w+a>n){const l=i.slice(0,t.i);for(t.i--;t.w-=l[t.i].offsetWidth+s,!(t.w+a<=n);)t.i--;e.next=l[t.i]}return{i:t.i,data:e}}const v='input[name="prfRealName"],input[name="prfCompanyName"]',k="_AE",tt="._RI label",c={},T="sorry,there are some problems,please contract us...";document.addEventListener("down:prf",t=>{Object.assign(c,t.detail),nt()});r("input",v,function(){this.parentElement.querySelector("span").hidden=!!this.value});let p=null;r("click",tt,function(){this.classList.add(k),p=this},()=>{p&&(p.classList.remove(k),p=null)});r("click","._SI",function(){const t=et();if(t){this.disabled=!0;const e="/api/message/vrf-name"+(c.isTeam?"-team":""),n={name:t.prfRealName,company_name:t.prfCompanyName,...c.data};(()=>c.isTeam?h.post(e,n):h.get(e,n))().then(s=>{this.disabled=!1,q(!1),s.status==1&&s.url?window.open(s.url,"_blank"):s.status==404&&alert(T)}).catch(()=>{this.disabled=!1})}});function et(){const t=document.querySelectorAll(v),e=new Set,n={};for(const o of t){const s=o.value.trim();o.parentElement.classList[s?"remove":"add"]("_MG"),s?n[o.name]=s:e.add(0)}return e.size?null:n}function q(t){m(document,"dialog:toggle",{name:"prfActualName",show:t})}async function nt(){const t=c.data;if(!t)return;const e="/api/message/vrf-file"+(c.isTeam?"-team":"");h.get(e,{id:t.id,type:t.type,controller:t.controller}).then(n=>{if(n.status==1&&n.url)window.open(n.url,"_blank");else if(!c.isTeam&&n.status==2)alert("sorry,you cannot download personal PRF");else if(n.status==404)alert(T);else{if(n.name){const o=document.querySelector('input[name="prfRealName"]');o&&(o.value=n.name)}q(!0)}}).then(c.resolve).catch(c.reject).finally(()=>{delete c.resolve,delete c.reject})}export{F as __vite_legacy_guard};